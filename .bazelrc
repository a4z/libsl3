# C++ standard and basic flags
build --cxxopt=-std=c++17
build --host_cxxopt=-std=c++17

# Common compiler flags for all C++ targets
build --cxxopt=-Wall
build --cxxopt=-Wextra
build --cxxopt=-Wpedantic

# Platform-specific configurations
build:linux --cxxopt=-pthread
build:macos --cxxopt=-stdlib=libc++
build:windows --cxxopt=/std:c++17

# Debug configuration
build:debug --copt=-g
build:debug --copt=-O0
build:debug --cxxopt=-DDEBUG

# Release configuration
build:release --copt=-O3
build:release --copt=-DNDEBUG
build:release --strip=always

# Sanitizer configurations
build:asan --copt=-fsanitize=address
build:asan --linkopt=-fsanitize=address
build:tsan --copt=-fsanitize=thread
build:tsan --linkopt=-fsanitize=thread

# No default config - user must specify --config=debug or --config=release